openapi: '3.0.3'
info:
  title: BagdexAPI
  version: '1.0'
servers:
  - url: https://bagdexapi.vercel.app/api
tags:
  - name: API
    description: Informações básicas da API.
  - name: Tipos
    description: Informações sobre as tipagens dos Bagmon.
paths:
  /status:
    get:
      tags:
        - API
      summary: Veja o status atual da API
      description: Veja o status atual da API.
      operationId: status
      responses:
        '200':
          description: API executando normalmente.
          content:
            application/json:
              schema:
                type: object
                properties:
                  name:
                    type: string
                    description: Nome da API
                    example: BagdexAPI
                  status:
                    type: string
                    description: Status da API
                    example: OK
                  version:
                    type: string
                    description: Versão da API
                    example: 1.0.0
  /types:
    get:
      tags:
        - Tipos
      summary: Veja os tipos dos Bagmon
      description: Veja tipos de Bagmon de acordo com os parâmetros fornecidos.
      operationId: types
      parameters:
        - name: id
          in: query
          description: O Id de uma tipagem específica.
          required: false
          explode: true
          schema:
            type: integer
            example: 1
        - name: weaknesses
          in: query
          description: Fraquezas, separadas por vírgula, que podem corresponder a um ou mais tipos.
          required: false
          explode: true
          schema:
            type: string
            example: 7,12
      responses:
        '200':
          description: Foram encontradas tipagens que correspondem aos parâmetros fornecidos.
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                      description: Id da tipagem
                      format: int64
                      example: 1
                    name:
                      type: string
                      description: Nome da tipagem
                      example: aquático
                    weaknesses:
                      type: array
                      description: Fraquezas da tipagem
                      example: [ 7, 12, 18 ]
                    artwork:
                      type: string
                      description: URL da arte da tipagem
                      example: null
        '404':
          description: Nenhum tipo correspondeu aos parâmetros fornecidos.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    description: Identificador do erro
                    example: ERR_WEAKNESSES_NOT_FOUND
                  message:
                    type: string
                    description: Mensagem de erro
                    example: The provided 'weaknesses' do not match any type.